webpackJsonp([ 0 ], [ /* 0 */
, /* 1 */
, /* 2 */
, /* 3 */
/***/
function(e, n, t) {
    "use strict";
    function i() {
        f = new THREE.LoadingManager(), f.onStart = function(e, n, t) {}, f.onLoad = function() {
            r();
        }, f.onProgress = function(e, n, t) {}, f.onError = function(e) {};
    }
    function r() {
        var e = new THREE.PlaneBufferGeometry(40, 40);
        window.shaderMaterial = new THREE.ShaderMaterial({
            uniforms: {
                map: E.map,
                burnTex: E.burnTex,
                burnEffect: E.burnEffect,
                progress: E.progress,
                isDepth: E.isDepth,
                cameraNear: {
                    value: 100
                },
                cameraFar: {
                    value: 400
                }
            },
            vertexShader: document.getElementById("burnVertexShader").textContent,
            fragmentShader: document.getElementById("burnFragmentShader").textContent
        }), window.shaderMaterial.transparent = !0;
        var n = new THREE.Mesh(e, window.shaderMaterial);
        n.position.set(0, 0, 0), w.add(n);
    }
    function a() {
        c = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 1, 1e4), 
        c.position.z = 80, w = new THREE.Scene();
        var e = new THREE.TextureLoader(f);
        E.map.value = e.load("./assets/img/cat.png"), window.burnTex1 = e.load("./assets/img/burningtexture1.png"), 
        window.burnTex2 = e.load("./assets/img/burningtexture2.png"), E.burnTex.value = window.burnTex1;
        //renderer
        var n = document.getElementById("container");
        m = new THREE.WebGLRenderer(), m.setPixelRatio(window.devicePixelRatio), m.setSize(window.innerWidth, window.innerHeight), 
        n.appendChild(m.domElement);
    }
    function o() {
        document.addEventListener("touchstart", function(e) {}, false), document.addEventListener("touchmove", function(e) {
            e.preventDefault();
        }, false), document.getElementById("range-btn").addEventListener("mousemove", function() {
            E.progress.value = this.value;
        }), document.getElementById("range-btn").addEventListener("touchmove", function() {
            E.progress.value = this.value;
        }), document.getElementById("tex1-btn").addEventListener("click", function() {
            // b.burnTex.value = window.burnTex1;
            window.shaderMaterial.uniforms.burnTex.value = window.burnTex1;
        }), document.getElementById("tex2-btn").addEventListener("click", function() {
            window.shaderMaterial.uniforms.burnTex.value = window.burnTex2;
        }), window.addEventListener("resize", u, false);
    }
    function d() {
        //loadingManager
        i(), //init Three
        a(), //event
        o(), s();
    }
    function u() {
        c.aspect = window.innerWidth / window.innerHeight, c.updateProjectionMatrix(), m.setSize(window.innerWidth, window.innerHeight);
    }
    function s() {
        requestAnimationFrame(s), l();
    }
    function l() {
        m.render(w, c);
    }
    Object.defineProperty(n, "__esModule", {
        value: true
    });
    /* harmony import */
    var c, w, m, f, v = t(4), E = (t.n(v), {
        progress: {
            value: 0
        },
        burnEffect: {
            value: 1
        },
        isDepth: {
            value: 0
        },
        burnTex: {
            value: null
        },
        map: {
            value: null
        }
    });
    window.onload = function() {
        d();
    }, function() {
        function e() {
            n.begin(), // monitored code goes here
            n.end(), requestAnimationFrame(e);
        }
        var n = new Stats();
        n.showPanel(0);
        // 0: fps, 1: ms, 2: mb, 3+: custom
        var t = document.createElement("div");
        t.style.position = "absolute", t.style.left = 0, t.style.top = 0, t.style.zIndex = 999, 
        t.appendChild(n.domElement), document.body.appendChild(t), requestAnimationFrame(e);
    }();
}, /* 4 */
/***/
function(e, n) {} ], [ 3 ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYXNzZXRzL2pzL21haW4ubWluLmpzIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvanMvbWFpbi5qcyJdLCJuYW1lcyI6WyJ3ZWJwYWNrSnNvbnAiLCJtb2R1bGUiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImluaXRMb2FkIiwibWFuYWdlciIsIlRIUkVFIiwiTG9hZGluZ01hbmFnZXIiLCJvblN0YXJ0IiwidXJsIiwiaXRlbXNMb2FkZWQiLCJpdGVtc1RvdGFsIiwib25Mb2FkIiwibG9hZFJlc0NhbGxCYWNrIiwib25Qcm9ncmVzcyIsIm9uRXJyb3IiLCJnZW8iLCJQbGFuZUJ1ZmZlckdlb21ldHJ5Iiwid2luZG93Iiwic2hhZGVyTWF0ZXJpYWwiLCJTaGFkZXJNYXRlcmlhbCIsInVuaWZvcm1zIiwibWFwIiwiYiIsImJ1cm5UZXgiLCJidXJuRWZmZWN0IiwicHJvZ3Jlc3MiLCJpc0RlcHRoIiwiY2FtZXJhTmVhciIsInZhbHVlIiwiY2FtZXJhRmFyIiwidmVydGV4U2hhZGVyIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInRleHRDb250ZW50IiwiZnJhZ21lbnRTaGFkZXIiLCJ0cmFuc3BhcmVudCIsInBhcGVyIiwiTWVzaCIsInBvc2l0aW9uIiwic2V0Iiwic2NlbmUiLCJhZGQiLCJpbml0VGhyZWUiLCJjYW1lcmEiLCJQZXJzcGVjdGl2ZUNhbWVyYSIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsInoiLCJTY2VuZSIsInRleHR1cmVMb2FkZXIiLCJUZXh0dXJlTG9hZGVyIiwibG9hZCIsImJ1cm5UZXgxIiwiYnVyblRleDIiLCJjb250YWluZXIiLCJyZW5kZXJlciIsIldlYkdMUmVuZGVyZXIiLCJzZXRQaXhlbFJhdGlvIiwiZGV2aWNlUGl4ZWxSYXRpbyIsInNldFNpemUiLCJhcHBlbmRDaGlsZCIsImRvbUVsZW1lbnQiLCJpbml0RXZlbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwidGhpcyIsIm9uV2luZG93UmVzaXplIiwiaW5pdCIsImFuaW1hdGUiLCJhc3BlY3QiLCJ1cGRhdGVQcm9qZWN0aW9uTWF0cml4IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwicmVuZGVyIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2Nzc19jc3NfY3NzX18iLCJuIiwib25sb2FkIiwic3RhdHMiLCJiZWdpbiIsImVuZCIsIlN0YXRzIiwic2hvd1BhbmVsIiwiZnMiLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJsZWZ0IiwidG9wIiwiekluZGV4IiwiYm9keSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBQSxlQUFjO0FBQ1A7QUFDQTtBQUNBOztBQUVELFNBQVVDLEdBQVFDLEdBQXFCQztJQUU3QztJQ3lCQSxTQUFBQztRQUNBQyxJQUFBLElBQUFDLE1BQUFDLGtCQUNBRixFQUFBRyxVQUFBLFNBQUFDLEdBQUFDLEdBQUFDLE9BSUFOLEVBQUFPLFNBQUE7WUFFQUM7V0FJQVIsRUFBQVMsYUFBQSxTQUFBTCxHQUFBQyxHQUFBQyxPQU1BTixFQUFBVSxVQUFBLFNBQUFOOztJQUtBLFNBQUFJO1FBRUEsSUFBQUcsSUFBQSxJQUFBVixNQUFBVyxvQkFBQTtRQUNBQyxPQUFBQyxpQkFBQSxJQUFBYixNQUFBYztZQUNBQztnQkFDQUMsS0FBQUMsRUFBQUQ7Z0JBQ0FFLFNBQUFELEVBQUFDO2dCQUNBQyxZQUFBRixFQUFBRTtnQkFDQUMsVUFBQUgsRUFBQUc7Z0JBQ0FDLFNBQUFKLEVBQUFJO2dCQUNBQztvQkFBeUJDLE9BQUE7O2dCQUN6QkM7b0JBQXdCRCxPQUFBOzs7WUFFeEJFLGNBQUFDLFNBQUFDLGVBQUEsb0JBQUFDO1lBQ0FDLGdCQUFBSCxTQUFBQyxlQUFBLHNCQUFBQztZQUVBaEIsT0FBQUMsZUFBQWlCLGVBQUE7UUFDQSxJQUFBQyxJQUFBLElBQUEvQixNQUFBZ0MsS0FBQXRCLEdBQUFFLE9BQUFDO1FBQ0FrQixFQUFBRSxTQUFBQyxJQUFBLFVBQ0FDLEVBQUFDLElBQUFMOztJQUdBLFNBQUFNO1FBQ0FDLElBQUEsSUFBQXRDLE1BQUF1QyxrQkFBQSxJQUFBM0IsT0FBQTRCLGFBQUE1QixPQUFBNkIsYUFBQTtRQUNBSCxFQUFBTCxTQUFBUyxJQUFBLElBQ0FQLElBQUEsSUFBQW5DLE1BQUEyQztRQUNBLElBU0FDLElBQUEsSUFBQTVDLE1BQUE2QyxjQUFBOUM7UUFDQWtCLEVBQUFELElBQUFPLFFBQUFxQixFQUFBRSxLQUFBLHlCQUNBbEMsT0FBQW1DLFdBQUFILEVBQUFFLEtBQUE7UUFDQWxDLE9BQUFvQyxXQUFBSixFQUFBRSxLQUFBLHFDQUNBN0IsRUFBQUMsUUFBQUssUUFBQVgsT0FBQW1DOztRQUdBLElBQUFFLElBQUF2QixTQUFBQyxlQUFBO1FBQ0F1QixJQUFBLElBQUFsRCxNQUFBbUQsaUJBQ0FELEVBQUFFLGNBQUF4QyxPQUFBeUMsbUJBQ0FILEVBQUFJLFFBQUExQyxPQUFBNEIsWUFBQTVCLE9BQUE2QjtRQUNBUSxFQUFBTSxZQUFBTCxFQUFBTTs7SUFJQSxTQUFBQztRQUNBL0IsU0FBQWdDLGlCQUFBLHVCQUFBQyxPQUEwRCxRQUMxRGpDLFNBQUFnQyxpQkFBQSxzQkFBQUM7WUFDQUEsRUFBQUM7V0FDSyxRQUNMbEMsU0FBQUMsZUFBQSxhQUFBK0IsaUJBQUE7WUFFQXpDLEVBQUFHLFNBQUFHLFFBQUFzQyxLQUFBdEM7WUFFQUcsU0FBQUMsZUFBQSxhQUFBK0IsaUJBQUE7WUFFQXpDLEVBQUFHLFNBQUFHLFFBQUFzQyxLQUFBdEM7WUFHQUcsU0FBQUMsZUFBQSxZQUFBK0IsaUJBQUE7O1lBR0E5QyxPQUFBQyxlQUFBRSxTQUFBRyxRQUFBSyxRQUFBWCxPQUFBbUM7WUFFQXJCLFNBQUFDLGVBQUEsWUFBQStCLGlCQUFBO1lBRUE5QyxPQUFBQyxlQUFBRSxTQUFBRyxRQUFBSyxRQUFBWCxPQUFBb0M7WUFJQXBDLE9BQUE4QyxpQkFBQSxVQUFBSSxHQUFBOztJQUlBLFNBQUFDOztRQUVBakU7UUFHQXVDO1FBR0FvQixLQUVBTzs7SUFJQSxTQUFBRjtRQUNBeEIsRUFBQTJCLFNBQUFyRCxPQUFBNEIsYUFBQTVCLE9BQUE2QixhQUNBSCxFQUFBNEIsMEJBQ0FoQixFQUFBSSxRQUFBMUMsT0FBQTRCLFlBQUE1QixPQUFBNkI7O0lBR0EsU0FBQXVCO1FBQ0FHLHNCQUFBSCxJQUNBSTs7SUFHQSxTQUFBQTtRQUNBbEIsRUFBQWtCLE9BQUFqQyxHQUFBRzs7SUR4SkErQixPQUFPQyxlQUFlMUUsR0FBcUI7UUFBZ0IyQixPQUFPOzs7SUNSbEUsSUFxQkFlLEdBQUFILEdBQUFlLEdBQ0FuRCxHQXRCQXdFLElBQUExRSxFQUFBLElBdUJBb0IsS0F2QkFwQixFQUFBMkUsRUFBQUQ7UUF3QkFuRDtZQUFlRyxPQUFBOztRQUNmSjtZQUFpQkksT0FBQTs7UUFDakJGO1lBQWNFLE9BQUE7O1FBQ2RMO1lBQWNLLE9BQUE7O1FBQ2RQO1lBQVVPLE9BQUE7OztJQXdJVlgsT0FBQTZELFNBQUE7UUFDQVY7T0FPQTtRQVdBLFNBQUFDO1lBQ0FVLEVBQUFDO1lBRUFELEVBQUFFLE9BQ0FULHNCQUFBSDs7UUFkQSxJQUFBVSxJQUFBLElBQUFHO1FBQ0FILEVBQUFJLFVBQUE7O1FBQ0EsSUFBQUMsSUFBQXJELFNBQUFzRCxjQUFBO1FBQ0FELEVBQUFFLE1BQUFoRCxXQUFBLFlBQ0E4QyxFQUFBRSxNQUFBQyxPQUFBLEdBQ0FILEVBQUFFLE1BQUFFLE1BQUEsR0FDQUosRUFBQUUsTUFBQUcsU0FBQTtRQUNBTCxFQUFBeEIsWUFBQW1CLEVBQUFsQixhQUNBOUIsU0FBQTJELEtBQUE5QixZQUFBd0IsSUFRQVosc0JBQUFIOzs7O0FEaUJNLFNBQVVyRSxHQUFRMkYsV0FLckIiLCJmaWxlIjoiYXNzZXRzL2pzL21haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsid2VicGFja0pzb25wKFswXSxbXG4vKiAwICovLFxuLyogMSAqLyxcbi8qIDIgKi8sXG4vKiAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fd2VicGFja19leHBvcnRzX18sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fY3NzX2Nzc19jc3NfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jc3NfY3NzX2Nzc19fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jc3NfY3NzX2Nzc19fKTtcbi8qKlxuICogQ3JlYXRlZCBieSBzYW5jaGV6IFxuICovXG5cbi8vIGltcG9ydCBDU1Ncbi8vIGltcG9ydCBhbmltYXRlX2NzcyBmcm9tICdhbmltYXRlLmNzcy9hbmltYXRlLm1pbi5jc3MnO1xuXG4vLyBpbXBvcnQgc2NzcyBmcm9tICcuLi9jc3Mvc2Fzcy5zY3NzJztcblxuXG5cbi8vIGltcG9ydCBKcyBQbHVnaW5zL0VudGl0aWVzXG5cbi8vRVM2IE1vZHVsZVxuLy8gaW1wb3J0IEJhcjEgZnJvbSAnLi9lbnRpdGllcy9CYXIxJztcbi8vIGltcG9ydCBIb3dsZXIgZnJvbSAnaG93bGVyJztcbi8vQ29tbW9uSlNcbi8vIHZhciBCYXIyPXJlcXVpcmUoJy4vZW50aXRpZXMvQmFyMicpO1xuXG4vLyBpZiAoIURldGVjdG9yLndlYmdsKSBEZXRlY3Rvci5hZGRHZXRXZWJHTE1lc3NhZ2UoKTtcbnZhciBjb250YWluZXIsIHN0YXRzO1xudmFyIGNhbWVyYSwgc2NlbmUsIHJlbmRlcmVyO1xudmFyIG1hbmFnZXI7XG52YXIgYiA9IHtcbiAgICBwcm9ncmVzczogeyB2YWx1ZTogMCB9LFxuICAgIGJ1cm5FZmZlY3Q6IHsgdmFsdWU6IDEgfSxcbiAgICBpc0RlcHRoOiB7IHZhbHVlOiAwIH0sXG4gICAgYnVyblRleDogeyB2YWx1ZTogbnVsbCB9LFxuICAgIG1hcDogeyB2YWx1ZTogbnVsbCB9LFxufTtcblxuXG5mdW5jdGlvbiBpbml0TG9hZCgpIHtcbiAgICBtYW5hZ2VyID0gbmV3IFRIUkVFLkxvYWRpbmdNYW5hZ2VyKCk7XG4gICAgbWFuYWdlci5vblN0YXJ0ID0gZnVuY3Rpb24odXJsLCBpdGVtc0xvYWRlZCwgaXRlbXNUb3RhbCkge1xuICAgICAgICBjb25zb2xlLmxvZygnU3RhcnRlZCBsb2FkaW5nIGZpbGU6ICcgKyB1cmwgKyAnLlxcbkxvYWRlZCAnICsgaXRlbXNMb2FkZWQgKyAnIG9mICcgKyBpdGVtc1RvdGFsICsgJyBmaWxlcy4nKTtcbiAgICB9O1xuXG4gICAgbWFuYWdlci5vbkxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0xvYWRpbmcgY29tcGxldGUhJyk7XG4gICAgICAgIGxvYWRSZXNDYWxsQmFjaygpO1xuICAgIH07XG5cblxuICAgIG1hbmFnZXIub25Qcm9ncmVzcyA9IGZ1bmN0aW9uKHVybCwgaXRlbXNMb2FkZWQsIGl0ZW1zVG90YWwpIHtcblxuICAgICAgICBjb25zb2xlLmxvZygnTG9hZGluZyBmaWxlOiAnICsgdXJsICsgJy5cXG5Mb2FkZWQgJyArIGl0ZW1zTG9hZGVkICsgJyBvZiAnICsgaXRlbXNUb3RhbCArICcgZmlsZXMuJyk7XG5cbiAgICB9O1xuXG4gICAgbWFuYWdlci5vbkVycm9yID0gZnVuY3Rpb24odXJsKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdUaGVyZSB3YXMgYW4gZXJyb3IgbG9hZGluZyAnICsgdXJsKTtcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBsb2FkUmVzQ2FsbEJhY2soKSB7XG4gICAgY29uc29sZS5sb2coJ2luaXQnKTtcbiAgICB2YXIgZ2VvID0gbmV3IFRIUkVFLlBsYW5lQnVmZmVyR2VvbWV0cnkoNDAsIDQwKTtcbiAgICB3aW5kb3cuc2hhZGVyTWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgICB1bmlmb3Jtczoge1xuICAgICAgICAgICAgbWFwOiBiLm1hcCxcbiAgICAgICAgICAgIGJ1cm5UZXg6IGIuYnVyblRleCxcbiAgICAgICAgICAgIGJ1cm5FZmZlY3Q6IGIuYnVybkVmZmVjdCxcbiAgICAgICAgICAgIHByb2dyZXNzOiBiLnByb2dyZXNzLFxuICAgICAgICAgICAgaXNEZXB0aDogYi5pc0RlcHRoLFxuICAgICAgICAgICAgY2FtZXJhTmVhcjogeyB2YWx1ZTogMTAwIH0sXG4gICAgICAgICAgICBjYW1lcmFGYXI6IHsgdmFsdWU6IDQwMCB9XG4gICAgICAgIH0sXG4gICAgICAgIHZlcnRleFNoYWRlcjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXJuVmVydGV4U2hhZGVyXCIpLnRleHRDb250ZW50LFxuICAgICAgICBmcmFnbWVudFNoYWRlcjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXJuRnJhZ21lbnRTaGFkZXJcIikudGV4dENvbnRlbnRcbiAgICB9KTtcbiAgICB3aW5kb3cuc2hhZGVyTWF0ZXJpYWwudHJhbnNwYXJlbnQgPSAhMDtcbiAgICB2YXIgcGFwZXIgPSBuZXcgVEhSRUUuTWVzaChnZW8sIHdpbmRvdy5zaGFkZXJNYXRlcmlhbCk7XG4gICAgcGFwZXIucG9zaXRpb24uc2V0KDAsIDAsIDApO1xuICAgIHNjZW5lLmFkZChwYXBlcik7XG59XG5cbmZ1bmN0aW9uIGluaXRUaHJlZSgpIHtcbiAgICBjYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoNTAsIHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0LCAxLCAxMDAwMCk7XG4gICAgY2FtZXJhLnBvc2l0aW9uLnogPSA4MDtcbiAgICBzY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuICAgIHZhciBidXJuVGV4O1xuXG4gICAgLy8gdW5pZm9ybSBmbG9hdCBwcm9ncmVzcztcbiAgICAvLyB1bmlmb3JtIGZsb2F0IGJ1cm5FZmZlY3Q7XG5cbiAgICAvLyB1bmlmb3JtIGZsb2F0IGlzRGVwdGg7XG4gICAgLy8gdW5pZm9ybSBmbG9hdCBjYW1lcmFOZWFyO1xuICAgIC8vIHVuaWZvcm0gZmxvYXQgY2FtZXJhRmFyO1xuXG4gICAgdmFyIHRleHR1cmVMb2FkZXIgPSBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcihtYW5hZ2VyKTtcbiAgICBiLm1hcC52YWx1ZSA9IHRleHR1cmVMb2FkZXIubG9hZCgnLi9hc3NldHMvaW1nL2NhdC5wbmcnKTtcbiAgICB3aW5kb3cuYnVyblRleDEgPSB0ZXh0dXJlTG9hZGVyLmxvYWQoJy4vYXNzZXRzL2ltZy9idXJuaW5ndGV4dHVyZTEucG5nJyk7XG4gICAgd2luZG93LmJ1cm5UZXgyID0gdGV4dHVyZUxvYWRlci5sb2FkKCcuL2Fzc2V0cy9pbWcvYnVybmluZ3RleHR1cmUyLnBuZycpO1xuICAgIGIuYnVyblRleC52YWx1ZSA9IHdpbmRvdy5idXJuVGV4MTtcblxuICAgIC8vcmVuZGVyZXJcbiAgICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhaW5lcicpO1xuICAgIHJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoKTtcbiAgICByZW5kZXJlci5zZXRQaXhlbFJhdGlvKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICByZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChyZW5kZXJlci5kb21FbGVtZW50KTtcblxufVxuXG5mdW5jdGlvbiBpbml0RXZlbnQoKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGZ1bmN0aW9uKGUpIHt9LCBmYWxzZSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSwgZmFsc2UpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyYW5nZS1idG4nKS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy52YWx1ZSk7XG4gICAgICAgIGIucHJvZ3Jlc3MudmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgIH0pO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyYW5nZS1idG4nKS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy52YWx1ZSk7XG4gICAgICAgIGIucHJvZ3Jlc3MudmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgIH0pO1xuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RleDEtYnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3RleDEtYnRuJyk7XG4gICAgICAgIC8vIGIuYnVyblRleC52YWx1ZSA9IHdpbmRvdy5idXJuVGV4MTtcbiAgICAgICAgd2luZG93LnNoYWRlck1hdGVyaWFsLnVuaWZvcm1zLmJ1cm5UZXgudmFsdWUgPSB3aW5kb3cuYnVyblRleDE7XG4gICAgfSk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RleDItYnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3RleDItYnRuJyk7XG4gICAgICAgIHdpbmRvdy5zaGFkZXJNYXRlcmlhbC51bmlmb3Jtcy5idXJuVGV4LnZhbHVlID0gd2luZG93LmJ1cm5UZXgyO1xuXG5cbiAgICB9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgb25XaW5kb3dSZXNpemUsIGZhbHNlKTtcbn1cblxuXG5mdW5jdGlvbiBpbml0KCkge1xuICAgIC8vbG9hZGluZ01hbmFnZXJcbiAgICBpbml0TG9hZCgpO1xuXG4gICAgLy9pbml0IFRocmVlXG4gICAgaW5pdFRocmVlKCk7XG5cbiAgICAvL2V2ZW50XG4gICAgaW5pdEV2ZW50KCk7XG5cbiAgICBhbmltYXRlKCk7XG5cbn1cblxuZnVuY3Rpb24gb25XaW5kb3dSZXNpemUoKSB7XG4gICAgY2FtZXJhLmFzcGVjdCA9IHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIGNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgcmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbn1cblxuZnVuY3Rpb24gYW5pbWF0ZSgpIHtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XG4gICAgcmVuZGVyKCk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICByZW5kZXJlci5yZW5kZXIoc2NlbmUsIGNhbWVyYSk7XG59XG5cblxud2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgIGluaXQoKTtcblxufTtcblxuXG5cblxuZnVuY3Rpb24gc2hvd1N0YXRzKCkge1xuICAgIHZhciBzdGF0cyA9IG5ldyBTdGF0cygpO1xuICAgIHN0YXRzLnNob3dQYW5lbCgwKTsgLy8gMDogZnBzLCAxOiBtcywgMjogbWIsIDMrOiBjdXN0b21cbiAgICB2YXIgZnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBmcy5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgZnMuc3R5bGUubGVmdCA9IDA7XG4gICAgZnMuc3R5bGUudG9wID0gMDtcbiAgICBmcy5zdHlsZS56SW5kZXggPSA5OTk7XG4gICAgZnMuYXBwZW5kQ2hpbGQoc3RhdHMuZG9tRWxlbWVudCk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmcyk7XG5cbiAgICBmdW5jdGlvbiBhbmltYXRlKCkge1xuICAgICAgICBzdGF0cy5iZWdpbigpO1xuICAgICAgICAvLyBtb25pdG9yZWQgY29kZSBnb2VzIGhlcmVcbiAgICAgICAgc3RhdHMuZW5kKCk7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcbiAgICB9XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xufVxuc2hvd1N0YXRzKCk7XG5cbi8qKiovIH0pLFxuLyogNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXG4vKioqLyB9KVxuXSxbM10pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBhc3NldHMvanMvbWFpbi5taW4uanMiLCIvKipcbiAqIENyZWF0ZWQgYnkgc2FuY2hleiBcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuLy8gaW1wb3J0IENTU1xuLy8gaW1wb3J0IGFuaW1hdGVfY3NzIGZyb20gJ2FuaW1hdGUuY3NzL2FuaW1hdGUubWluLmNzcyc7XG5pbXBvcnQgY3NzIGZyb20gJy4uL2Nzcy9jc3MuY3NzJztcbi8vIGltcG9ydCBzY3NzIGZyb20gJy4uL2Nzcy9zYXNzLnNjc3MnO1xuXG5cblxuLy8gaW1wb3J0IEpzIFBsdWdpbnMvRW50aXRpZXNcblxuLy9FUzYgTW9kdWxlXG4vLyBpbXBvcnQgQmFyMSBmcm9tICcuL2VudGl0aWVzL0JhcjEnO1xuLy8gaW1wb3J0IEhvd2xlciBmcm9tICdob3dsZXInO1xuLy9Db21tb25KU1xuLy8gdmFyIEJhcjI9cmVxdWlyZSgnLi9lbnRpdGllcy9CYXIyJyk7XG5cbi8vIGlmICghRGV0ZWN0b3Iud2ViZ2wpIERldGVjdG9yLmFkZEdldFdlYkdMTWVzc2FnZSgpO1xudmFyIGNvbnRhaW5lciwgc3RhdHM7XG52YXIgY2FtZXJhLCBzY2VuZSwgcmVuZGVyZXI7XG52YXIgbWFuYWdlcjtcbnZhciBiID0ge1xuICAgIHByb2dyZXNzOiB7IHZhbHVlOiAwIH0sXG4gICAgYnVybkVmZmVjdDogeyB2YWx1ZTogMSB9LFxuICAgIGlzRGVwdGg6IHsgdmFsdWU6IDAgfSxcbiAgICBidXJuVGV4OiB7IHZhbHVlOiBudWxsIH0sXG4gICAgbWFwOiB7IHZhbHVlOiBudWxsIH0sXG59O1xuXG5cbmZ1bmN0aW9uIGluaXRMb2FkKCkge1xuICAgIG1hbmFnZXIgPSBuZXcgVEhSRUUuTG9hZGluZ01hbmFnZXIoKTtcbiAgICBtYW5hZ2VyLm9uU3RhcnQgPSBmdW5jdGlvbih1cmwsIGl0ZW1zTG9hZGVkLCBpdGVtc1RvdGFsKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTdGFydGVkIGxvYWRpbmcgZmlsZTogJyArIHVybCArICcuXFxuTG9hZGVkICcgKyBpdGVtc0xvYWRlZCArICcgb2YgJyArIGl0ZW1zVG90YWwgKyAnIGZpbGVzLicpO1xuICAgIH07XG5cbiAgICBtYW5hZ2VyLm9uTG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zb2xlLmxvZygnTG9hZGluZyBjb21wbGV0ZSEnKTtcbiAgICAgICAgbG9hZFJlc0NhbGxCYWNrKCk7XG4gICAgfTtcblxuXG4gICAgbWFuYWdlci5vblByb2dyZXNzID0gZnVuY3Rpb24odXJsLCBpdGVtc0xvYWRlZCwgaXRlbXNUb3RhbCkge1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdMb2FkaW5nIGZpbGU6ICcgKyB1cmwgKyAnLlxcbkxvYWRlZCAnICsgaXRlbXNMb2FkZWQgKyAnIG9mICcgKyBpdGVtc1RvdGFsICsgJyBmaWxlcy4nKTtcblxuICAgIH07XG5cbiAgICBtYW5hZ2VyLm9uRXJyb3IgPSBmdW5jdGlvbih1cmwpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1RoZXJlIHdhcyBhbiBlcnJvciBsb2FkaW5nICcgKyB1cmwpO1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIGxvYWRSZXNDYWxsQmFjaygpIHtcbiAgICBjb25zb2xlLmxvZygnaW5pdCcpO1xuICAgIHZhciBnZW8gPSBuZXcgVEhSRUUuUGxhbmVCdWZmZXJHZW9tZXRyeSg0MCwgNDApO1xuICAgIHdpbmRvdy5zaGFkZXJNYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCh7XG4gICAgICAgIHVuaWZvcm1zOiB7XG4gICAgICAgICAgICBtYXA6IGIubWFwLFxuICAgICAgICAgICAgYnVyblRleDogYi5idXJuVGV4LFxuICAgICAgICAgICAgYnVybkVmZmVjdDogYi5idXJuRWZmZWN0LFxuICAgICAgICAgICAgcHJvZ3Jlc3M6IGIucHJvZ3Jlc3MsXG4gICAgICAgICAgICBpc0RlcHRoOiBiLmlzRGVwdGgsXG4gICAgICAgICAgICBjYW1lcmFOZWFyOiB7IHZhbHVlOiAxMDAgfSxcbiAgICAgICAgICAgIGNhbWVyYUZhcjogeyB2YWx1ZTogNDAwIH1cbiAgICAgICAgfSxcbiAgICAgICAgdmVydGV4U2hhZGVyOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1cm5WZXJ0ZXhTaGFkZXJcIikudGV4dENvbnRlbnQsXG4gICAgICAgIGZyYWdtZW50U2hhZGVyOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1cm5GcmFnbWVudFNoYWRlclwiKS50ZXh0Q29udGVudFxuICAgIH0pO1xuICAgIHdpbmRvdy5zaGFkZXJNYXRlcmlhbC50cmFuc3BhcmVudCA9ICEwO1xuICAgIHZhciBwYXBlciA9IG5ldyBUSFJFRS5NZXNoKGdlbywgd2luZG93LnNoYWRlck1hdGVyaWFsKTtcbiAgICBwYXBlci5wb3NpdGlvbi5zZXQoMCwgMCwgMCk7XG4gICAgc2NlbmUuYWRkKHBhcGVyKTtcbn1cblxuZnVuY3Rpb24gaW5pdFRocmVlKCkge1xuICAgIGNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSg1MCwgd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQsIDEsIDEwMDAwKTtcbiAgICBjYW1lcmEucG9zaXRpb24ueiA9IDgwO1xuICAgIHNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG4gICAgdmFyIGJ1cm5UZXg7XG5cbiAgICAvLyB1bmlmb3JtIGZsb2F0IHByb2dyZXNzO1xuICAgIC8vIHVuaWZvcm0gZmxvYXQgYnVybkVmZmVjdDtcblxuICAgIC8vIHVuaWZvcm0gZmxvYXQgaXNEZXB0aDtcbiAgICAvLyB1bmlmb3JtIGZsb2F0IGNhbWVyYU5lYXI7XG4gICAgLy8gdW5pZm9ybSBmbG9hdCBjYW1lcmFGYXI7XG5cbiAgICB2YXIgdGV4dHVyZUxvYWRlciA9IG5ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKG1hbmFnZXIpO1xuICAgIGIubWFwLnZhbHVlID0gdGV4dHVyZUxvYWRlci5sb2FkKCcuL2Fzc2V0cy9pbWcvY2F0LnBuZycpO1xuICAgIHdpbmRvdy5idXJuVGV4MSA9IHRleHR1cmVMb2FkZXIubG9hZCgnLi9hc3NldHMvaW1nL2J1cm5pbmd0ZXh0dXJlMS5wbmcnKTtcbiAgICB3aW5kb3cuYnVyblRleDIgPSB0ZXh0dXJlTG9hZGVyLmxvYWQoJy4vYXNzZXRzL2ltZy9idXJuaW5ndGV4dHVyZTIucG5nJyk7XG4gICAgYi5idXJuVGV4LnZhbHVlID0gd2luZG93LmJ1cm5UZXgxO1xuXG4gICAgLy9yZW5kZXJlclxuICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFpbmVyJyk7XG4gICAgcmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcigpO1xuICAgIHJlbmRlcmVyLnNldFBpeGVsUmF0aW8od2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICAgIHJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuXG59XG5cbmZ1bmN0aW9uIGluaXRFdmVudCgpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgZnVuY3Rpb24oZSkge30sIGZhbHNlKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9LCBmYWxzZSk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JhbmdlLWJ0bicpLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnZhbHVlKTtcbiAgICAgICAgYi5wcm9ncmVzcy52YWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgfSk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JhbmdlLWJ0bicpLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnZhbHVlKTtcbiAgICAgICAgYi5wcm9ncmVzcy52YWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgfSk7XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGV4MS1idG4nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zb2xlLmxvZygndGV4MS1idG4nKTtcbiAgICAgICAgLy8gYi5idXJuVGV4LnZhbHVlID0gd2luZG93LmJ1cm5UZXgxO1xuICAgICAgICB3aW5kb3cuc2hhZGVyTWF0ZXJpYWwudW5pZm9ybXMuYnVyblRleC52YWx1ZSA9IHdpbmRvdy5idXJuVGV4MTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGV4Mi1idG4nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zb2xlLmxvZygndGV4Mi1idG4nKTtcbiAgICAgICAgd2luZG93LnNoYWRlck1hdGVyaWFsLnVuaWZvcm1zLmJ1cm5UZXgudmFsdWUgPSB3aW5kb3cuYnVyblRleDI7XG5cblxuICAgIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBvbldpbmRvd1Jlc2l6ZSwgZmFsc2UpO1xufVxuXG5cbmZ1bmN0aW9uIGluaXQoKSB7XG4gICAgLy9sb2FkaW5nTWFuYWdlclxuICAgIGluaXRMb2FkKCk7XG5cbiAgICAvL2luaXQgVGhyZWVcbiAgICBpbml0VGhyZWUoKTtcblxuICAgIC8vZXZlbnRcbiAgICBpbml0RXZlbnQoKTtcblxuICAgIGFuaW1hdGUoKTtcblxufVxuXG5mdW5jdGlvbiBvbldpbmRvd1Jlc2l6ZSgpIHtcbiAgICBjYW1lcmEuYXNwZWN0ID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICByZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xufVxuXG5mdW5jdGlvbiBhbmltYXRlKCkge1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcbiAgICByZW5kZXIoKTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHJlbmRlcmVyLnJlbmRlcihzY2VuZSwgY2FtZXJhKTtcbn1cblxuXG53aW5kb3cub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgaW5pdCgpO1xuXG59O1xuXG5cblxuXG5mdW5jdGlvbiBzaG93U3RhdHMoKSB7XG4gICAgdmFyIHN0YXRzID0gbmV3IFN0YXRzKCk7XG4gICAgc3RhdHMuc2hvd1BhbmVsKDApOyAvLyAwOiBmcHMsIDE6IG1zLCAyOiBtYiwgMys6IGN1c3RvbVxuICAgIHZhciBmcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGZzLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICBmcy5zdHlsZS5sZWZ0ID0gMDtcbiAgICBmcy5zdHlsZS50b3AgPSAwO1xuICAgIGZzLnN0eWxlLnpJbmRleCA9IDk5OTtcbiAgICBmcy5hcHBlbmRDaGlsZChzdGF0cy5kb21FbGVtZW50KTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZzKTtcblxuICAgIGZ1bmN0aW9uIGFuaW1hdGUoKSB7XG4gICAgICAgIHN0YXRzLmJlZ2luKCk7XG4gICAgICAgIC8vIG1vbml0b3JlZCBjb2RlIGdvZXMgaGVyZVxuICAgICAgICBzdGF0cy5lbmQoKTtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xuICAgIH1cbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XG59XG5zaG93U3RhdHMoKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9hc3NldHMvanMvbWFpbi5qc1xuLy8gbW9kdWxlIGlkID0gM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9