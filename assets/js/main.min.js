webpackJsonp([ 0 ], [ /* 0 */
, /* 1 */
, /* 2 */
, /* 3 */
/***/
function(e, n, t) {
    "use strict";
    function i() {
        o.aspect = window.innerWidth / window.innerHeight, o.updateProjectionMatrix(), s.setSize(window.innerWidth, window.innerHeight);
    }
    function r() {
        requestAnimationFrame(r), a();
    }
    function a() {
        s.render(d, o);
    }
    Object.defineProperty(n, "__esModule", {
        value: true
    });
    /* harmony import */
    var o, d, s, u = t(4), c = (t.n(u), {
        progress: {
            value: 1
        },
        burnEffect: {
            value: 1
        },
        isDepth: {
            value: 0
        }
    });
    !function() {
        function e() {
            var e = new THREE.ShaderMaterial({
                uniforms: {
                    map: {
                        value: r
                    },
                    burnTex: {
                        value: a
                    },
                    burnEffect: c.burnEffect,
                    progress: c.progress,
                    isDepth: c.isDepth,
                    cameraNear: {
                        value: 100
                    },
                    cameraFar: {
                        value: 400
                    }
                },
                vertexShader: document.getElementById("burnVertexShader").textContent,
                fragmentShader: document.getElementById("burnFragmentShader").textContent
            });
            e.transparent = !0;
            var n = new THREE.Mesh(u, e);
            n.position.set(0, 0, 0), d.add(n);
        }
        o = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 1, 1e4), 
        o.position.z = 80, d = new THREE.Scene();
        var n = new THREE.LoadingManager();
        n.onStart = function(e, n, t) {}, n.onLoad = function() {
            e();
        }, n.onProgress = function(e, n, t) {}, n.onError = function(e) {};
        var t = new THREE.TextureLoader(n), r = t.load("./assets/img/cat.png"), a = (t.load("./assets/img/burningtexture1.png"), 
        t.load("./assets/img/burningtexture2.png")), u = new THREE.PlaneBufferGeometry(40, 40), l = document.getElementById("container");
        s = new THREE.WebGLRenderer(), s.setPixelRatio(window.devicePixelRatio), s.setSize(window.innerWidth, window.innerHeight), 
        l.appendChild(s.domElement), //events
        document.getElementById("range-btn").addEventListener("mousemove", function() {
            c.progress.value = this.value;
        }), window.addEventListener("resize", i, false);
    }(), r(), function() {
        function e() {
            n.begin(), // monitored code goes here
            n.end(), requestAnimationFrame(e);
        }
        var n = new Stats();
        n.showPanel(0);
        // 0: fps, 1: ms, 2: mb, 3+: custom
        var t = document.createElement("div");
        t.style.position = "absolute", t.style.left = 0, t.style.top = 0, t.style.zIndex = 999, 
        t.appendChild(n.domElement), document.body.appendChild(t), requestAnimationFrame(e);
    }();
}, /* 4 */
/***/
function(e, n) {} ], [ 3 ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYXNzZXRzL2pzL21haW4ubWluLmpzIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvanMvbWFpbi5qcyJdLCJuYW1lcyI6WyJ3ZWJwYWNrSnNvbnAiLCJtb2R1bGUiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm9uV2luZG93UmVzaXplIiwiY2FtZXJhIiwiYXNwZWN0Iiwid2luZG93IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwidXBkYXRlUHJvamVjdGlvbk1hdHJpeCIsInJlbmRlcmVyIiwic2V0U2l6ZSIsImFuaW1hdGUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJyZW5kZXIiLCJzY2VuZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2Nzc19jc3NfY3NzX18iLCJiIiwibiIsInByb2dyZXNzIiwiYnVybkVmZmVjdCIsImlzRGVwdGgiLCJsb2FkUmVzQ2FsbEJhY2siLCJzaGFkZXJNYXRlcmlhbCIsIlRIUkVFIiwiU2hhZGVyTWF0ZXJpYWwiLCJ1bmlmb3JtcyIsIm1hcCIsIm1wIiwiYnVyblRleCIsImJ1cm5UZXgyIiwiY2FtZXJhTmVhciIsImNhbWVyYUZhciIsInZlcnRleFNoYWRlciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ0ZXh0Q29udGVudCIsImZyYWdtZW50U2hhZGVyIiwidHJhbnNwYXJlbnQiLCJwYXBlciIsIk1lc2giLCJnZW8iLCJwb3NpdGlvbiIsInNldCIsImFkZCIsIlBlcnNwZWN0aXZlQ2FtZXJhIiwieiIsIlNjZW5lIiwibWFuYWdlciIsIkxvYWRpbmdNYW5hZ2VyIiwib25TdGFydCIsInVybCIsIml0ZW1zTG9hZGVkIiwiaXRlbXNUb3RhbCIsIm9uTG9hZCIsIm9uUHJvZ3Jlc3MiLCJvbkVycm9yIiwidGV4dHVyZUxvYWRlciIsIlRleHR1cmVMb2FkZXIiLCJsb2FkIiwiUGxhbmVCdWZmZXJHZW9tZXRyeSIsImNvbnRhaW5lciIsIldlYkdMUmVuZGVyZXIiLCJzZXRQaXhlbFJhdGlvIiwiZGV2aWNlUGl4ZWxSYXRpbyIsImFwcGVuZENoaWxkIiwiZG9tRWxlbWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0aGlzIiwic3RhdHMiLCJiZWdpbiIsImVuZCIsIlN0YXRzIiwic2hvd1BhbmVsIiwiZnMiLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJsZWZ0IiwidG9wIiwiekluZGV4IiwiYm9keSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBQSxlQUFjO0FBQ1A7QUFDQTtBQUNBOztBQUVELFNBQVVDLEdBQVFDLEdBQXFCQztJQUU3QztJQzJHQSxTQUFBQztRQUNBQyxFQUFBQyxTQUFBQyxPQUFBQyxhQUFBRCxPQUFBRSxhQUNBSixFQUFBSywwQkFDQUMsRUFBQUMsUUFBQUwsT0FBQUMsWUFBQUQsT0FBQUU7O0lBR0EsU0FBQUk7UUFDQUMsc0JBQUFELElBQ0FFOztJQUdBLFNBQUFBO1FBRUFKLEVBQUFJLE9BQUFDLEdBQUFYOztJRHZIQVksT0FBT0MsZUFBZWhCLEdBQXFCO1FBQWdCaUIsT0FBTzs7O0lDUmxFLElBcUJBZCxHQUFBVyxHQUFBTCxHQXJCQVMsSUFBQWpCLEVBQUEsSUFzQkFrQixLQXRCQWxCLEVBQUFtQixFQUFBRjtRQXVCQUc7WUFBZUosT0FBQTs7UUFDZks7WUFBaUJMLE9BQUE7O1FBQ2pCTTtZQUFjTixPQUFBOzs7S0FPZDtRQTJDQSxTQUFBTztZQUVBLElBQUFDLElBQUEsSUFBQUMsTUFBQUM7Z0JBQ0FDO29CQUNBQzt3QkFDQVosT0FBQWE7O29CQUVBQzt3QkFBMEJkLE9BQUFlOztvQkFDMUJWLFlBQUFILEVBQUFHO29CQUNBRCxVQUFBRixFQUFBRTtvQkFDQUUsU0FBQUosRUFBQUk7b0JBQ0FVO3dCQUE2QmhCLE9BQUE7O29CQUM3QmlCO3dCQUE0QmpCLE9BQUE7OztnQkFFNUJrQixjQUFBQyxTQUFBQyxlQUFBLG9CQUFBQztnQkFDQUMsZ0JBQUFILFNBQUFDLGVBQUEsc0JBQUFDOztZQUVBYixFQUFBZSxlQUFBO1lBQ0EsSUFBQUMsSUFBQSxJQUFBZixNQUFBZ0IsS0FBQUMsR0FBQWxCO1lBQ0FnQixFQUFBRyxTQUFBQyxJQUFBLFVBQ0EvQixFQUFBZ0MsSUFBQUw7O1FBN0RBdEMsSUFBQSxJQUFBdUIsTUFBQXFCLGtCQUFBLElBQUExQyxPQUFBQyxhQUFBRCxPQUFBRSxhQUFBO1FBQ0FKLEVBQUF5QyxTQUFBSSxJQUFBLElBQ0FsQyxJQUFBLElBQUFZLE1BQUF1QjtRQUNBLElBVUFDLElBQUEsSUFBQXhCLE1BQUF5QjtRQUNBRCxFQUFBRSxVQUFBLFNBQUFDLEdBQUFDLEdBQUFDLE9BSUFMLEVBQUFNLFNBQUE7WUFFQWhDO1dBSUEwQixFQUFBTyxhQUFBLFNBQUFKLEdBQUFDLEdBQUFDLE9BTUFMLEVBQUFRLFVBQUEsU0FBQUw7UUFLQSxJQUFBTSxJQUFBLElBQUFqQyxNQUFBa0MsY0FBQVYsSUFDQXBCLElBQUE2QixFQUFBRSxLQUFBLHlCQUVBN0IsS0FEQTJCLEVBQUFFLEtBQUE7UUFDQUYsRUFBQUUsS0FBQSxzQ0FDQWxCLElBQUEsSUFBQWpCLE1BQUFvQyxvQkFBQSxTQTJCQUMsSUFBQTNCLFNBQUFDLGVBQUE7UUFDQTVCLElBQUEsSUFBQWlCLE1BQUFzQyxpQkFDQXZELEVBQUF3RCxjQUFBNUQsT0FBQTZELG1CQUNBekQsRUFBQUMsUUFBQUwsT0FBQUMsWUFBQUQsT0FBQUU7UUFDQXdELEVBQUFJLFlBQUExRCxFQUFBMkQ7UUFHQWhDLFNBQUFDLGVBQUEsYUFBQWdDLGlCQUFBO1lBRUFsRCxFQUFBRSxTQUFBSixRQUFBcUQsS0FBQXJEO1lBRUFaLE9BQUFnRSxpQkFBQSxVQUFBbkUsR0FBQTtTQWpGQVMsS0F5R0E7UUFXQSxTQUFBQTtZQUNBNEQsRUFBQUM7WUFFQUQsRUFBQUUsT0FDQTdELHNCQUFBRDs7UUFkQSxJQUFBNEQsSUFBQSxJQUFBRztRQUNBSCxFQUFBSSxVQUFBOztRQUNBLElBQUFDLElBQUF4QyxTQUFBeUMsY0FBQTtRQUNBRCxFQUFBRSxNQUFBbEMsV0FBQSxZQUNBZ0MsRUFBQUUsTUFBQUMsT0FBQSxHQUNBSCxFQUFBRSxNQUFBRSxNQUFBLEdBQ0FKLEVBQUFFLE1BQUFHLFNBQUE7UUFDQUwsRUFBQVQsWUFBQUksRUFBQUgsYUFDQWhDLFNBQUE4QyxLQUFBZixZQUFBUyxJQVFBaEUsc0JBQUFEOzs7O0FEaUJNLFNBQVVaLEdBQVFvRixXQUtyQiIsImZpbGUiOiJhc3NldHMvanMvbWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3ZWJwYWNrSnNvbnAoWzBdLFtcbi8qIDAgKi8sXG4vKiAxICovLFxuLyogMiAqLyxcbi8qIDMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jc3NfY3NzX2Nzc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2Nzc19jc3NfY3NzX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2Nzc19jc3NfY3NzX18pO1xuLyoqXG4gKiBDcmVhdGVkIGJ5IHNhbmNoZXogXG4gKi9cblxuLy8gaW1wb3J0IENTU1xuLy8gaW1wb3J0IGFuaW1hdGVfY3NzIGZyb20gJ2FuaW1hdGUuY3NzL2FuaW1hdGUubWluLmNzcyc7XG5cbi8vIGltcG9ydCBzY3NzIGZyb20gJy4uL2Nzcy9zYXNzLnNjc3MnO1xuXG5cblxuLy8gaW1wb3J0IEpzIFBsdWdpbnMvRW50aXRpZXNcblxuLy9FUzYgTW9kdWxlXG4vLyBpbXBvcnQgQmFyMSBmcm9tICcuL2VudGl0aWVzL0JhcjEnO1xuLy8gaW1wb3J0IEhvd2xlciBmcm9tICdob3dsZXInO1xuLy9Db21tb25KU1xuLy8gdmFyIEJhcjI9cmVxdWlyZSgnLi9lbnRpdGllcy9CYXIyJyk7XG5cbi8vIGlmICghRGV0ZWN0b3Iud2ViZ2wpIERldGVjdG9yLmFkZEdldFdlYkdMTWVzc2FnZSgpO1xudmFyIGNvbnRhaW5lciwgc3RhdHM7XG52YXIgY2FtZXJhLCBzY2VuZSwgcmVuZGVyZXI7XG52YXIgYiA9IHtcbiAgICBwcm9ncmVzczogeyB2YWx1ZTogMSB9LFxuICAgIGJ1cm5FZmZlY3Q6IHsgdmFsdWU6IDEgfSxcbiAgICBpc0RlcHRoOiB7IHZhbHVlOiAwIH0sXG5cbn07XG5cbmluaXQoKTtcbmFuaW1hdGUoKTtcblxuZnVuY3Rpb24gaW5pdCgpIHtcblxuICAgIGNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSg1MCwgd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQsIDEsIDEwMDAwKTtcbiAgICBjYW1lcmEucG9zaXRpb24ueiA9IDgwO1xuICAgIHNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG4gICAgdmFyIGJ1cm5UZXg7XG5cbiAgICAvLyB1bmlmb3JtIGZsb2F0IHByb2dyZXNzO1xuICAgIC8vIHVuaWZvcm0gZmxvYXQgYnVybkVmZmVjdDtcblxuICAgIC8vIHVuaWZvcm0gZmxvYXQgaXNEZXB0aDtcbiAgICAvLyB1bmlmb3JtIGZsb2F0IGNhbWVyYU5lYXI7XG4gICAgLy8gdW5pZm9ybSBmbG9hdCBjYW1lcmFGYXI7XG5cblxuICAgIHZhciBtYW5hZ2VyID0gbmV3IFRIUkVFLkxvYWRpbmdNYW5hZ2VyKCk7XG4gICAgbWFuYWdlci5vblN0YXJ0ID0gZnVuY3Rpb24odXJsLCBpdGVtc0xvYWRlZCwgaXRlbXNUb3RhbCkge1xuICAgICAgICBjb25zb2xlLmxvZygnU3RhcnRlZCBsb2FkaW5nIGZpbGU6ICcgKyB1cmwgKyAnLlxcbkxvYWRlZCAnICsgaXRlbXNMb2FkZWQgKyAnIG9mICcgKyBpdGVtc1RvdGFsICsgJyBmaWxlcy4nKTtcbiAgICB9O1xuXG4gICAgbWFuYWdlci5vbkxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0xvYWRpbmcgY29tcGxldGUhJyk7XG4gICAgICAgIGxvYWRSZXNDYWxsQmFjaygpO1xuICAgIH07XG5cblxuICAgIG1hbmFnZXIub25Qcm9ncmVzcyA9IGZ1bmN0aW9uKHVybCwgaXRlbXNMb2FkZWQsIGl0ZW1zVG90YWwpIHtcblxuICAgICAgICBjb25zb2xlLmxvZygnTG9hZGluZyBmaWxlOiAnICsgdXJsICsgJy5cXG5Mb2FkZWQgJyArIGl0ZW1zTG9hZGVkICsgJyBvZiAnICsgaXRlbXNUb3RhbCArICcgZmlsZXMuJyk7XG5cbiAgICB9O1xuXG4gICAgbWFuYWdlci5vbkVycm9yID0gZnVuY3Rpb24odXJsKSB7XG5cbiAgICAgICAgY29uc29sZS5sb2coJ1RoZXJlIHdhcyBhbiBlcnJvciBsb2FkaW5nICcgKyB1cmwpO1xuXG4gICAgfTtcbiAgICB2YXIgdGV4dHVyZUxvYWRlciA9IG5ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKG1hbmFnZXIpO1xuICAgIHZhciBtcCA9IHRleHR1cmVMb2FkZXIubG9hZCgnLi9hc3NldHMvaW1nL2NhdC5wbmcnKTtcbiAgICB2YXIgYnVyblRleDEgPSB0ZXh0dXJlTG9hZGVyLmxvYWQoJy4vYXNzZXRzL2ltZy9idXJuaW5ndGV4dHVyZTEucG5nJyk7XG4gICAgdmFyIGJ1cm5UZXgyID0gdGV4dHVyZUxvYWRlci5sb2FkKCcuL2Fzc2V0cy9pbWcvYnVybmluZ3RleHR1cmUyLnBuZycpO1xuICAgIHZhciBnZW8gPSBuZXcgVEhSRUUuUGxhbmVCdWZmZXJHZW9tZXRyeSg0MCwgNDApO1xuXG4gICAgZnVuY3Rpb24gbG9hZFJlc0NhbGxCYWNrKCkge1xuICAgICAgICBjb25zb2xlLmxvZygnaW5pdCcpO1xuICAgICAgICB2YXIgc2hhZGVyTWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgICAgICAgdW5pZm9ybXM6IHtcbiAgICAgICAgICAgICAgICBtYXA6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG1wXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBidXJuVGV4OiB7IHZhbHVlOiBidXJuVGV4MiB9LFxuICAgICAgICAgICAgICAgIGJ1cm5FZmZlY3Q6IGIuYnVybkVmZmVjdCxcbiAgICAgICAgICAgICAgICBwcm9ncmVzczogYi5wcm9ncmVzcyxcbiAgICAgICAgICAgICAgICBpc0RlcHRoOiBiLmlzRGVwdGgsXG4gICAgICAgICAgICAgICAgY2FtZXJhTmVhcjogeyB2YWx1ZTogMTAwIH0sXG4gICAgICAgICAgICAgICAgY2FtZXJhRmFyOiB7IHZhbHVlOiA0MDAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZlcnRleFNoYWRlcjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXJuVmVydGV4U2hhZGVyXCIpLnRleHRDb250ZW50LFxuICAgICAgICAgICAgZnJhZ21lbnRTaGFkZXI6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnVybkZyYWdtZW50U2hhZGVyXCIpLnRleHRDb250ZW50XG4gICAgICAgIH0pO1xuICAgICAgICBzaGFkZXJNYXRlcmlhbC50cmFuc3BhcmVudCA9ICEwO1xuICAgICAgICB2YXIgcGFwZXIgPSBuZXcgVEhSRUUuTWVzaChnZW8sIHNoYWRlck1hdGVyaWFsKTtcbiAgICAgICAgcGFwZXIucG9zaXRpb24uc2V0KDAsIDAsIDApO1xuICAgICAgICBzY2VuZS5hZGQocGFwZXIpO1xuXG4gICAgfVxuXG4gICAgLy9yZW5kZXJlclxuICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFpbmVyJyk7XG4gICAgcmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcigpO1xuICAgIHJlbmRlcmVyLnNldFBpeGVsUmF0aW8od2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICAgIHJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuXG4gICAgLy9ldmVudHNcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmFuZ2UtYnRuJykuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMudmFsdWUpO1xuICAgICAgICBiLnByb2dyZXNzLnZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICB9KVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBvbldpbmRvd1Jlc2l6ZSwgZmFsc2UpO1xufVxuXG5mdW5jdGlvbiBvbldpbmRvd1Jlc2l6ZSgpIHtcbiAgICBjYW1lcmEuYXNwZWN0ID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICByZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xufVxuXG5mdW5jdGlvbiBhbmltYXRlKCkge1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcbiAgICByZW5kZXIoKTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyKCkge1xuXG4gICAgcmVuZGVyZXIucmVuZGVyKHNjZW5lLCBjYW1lcmEpO1xufVxuXG5cblxuXG5cblxuZnVuY3Rpb24gc2hvd1N0YXRzKCkge1xuICAgIHZhciBzdGF0cyA9IG5ldyBTdGF0cygpO1xuICAgIHN0YXRzLnNob3dQYW5lbCgwKTsgLy8gMDogZnBzLCAxOiBtcywgMjogbWIsIDMrOiBjdXN0b21cbiAgICB2YXIgZnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBmcy5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgZnMuc3R5bGUubGVmdCA9IDA7XG4gICAgZnMuc3R5bGUudG9wID0gMDtcbiAgICBmcy5zdHlsZS56SW5kZXggPSA5OTk7XG4gICAgZnMuYXBwZW5kQ2hpbGQoc3RhdHMuZG9tRWxlbWVudCk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmcyk7XG5cbiAgICBmdW5jdGlvbiBhbmltYXRlKCkge1xuICAgICAgICBzdGF0cy5iZWdpbigpO1xuICAgICAgICAvLyBtb25pdG9yZWQgY29kZSBnb2VzIGhlcmVcbiAgICAgICAgc3RhdHMuZW5kKCk7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcbiAgICB9XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xufVxuc2hvd1N0YXRzKCk7XG5cbi8qKiovIH0pLFxuLyogNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXG4vKioqLyB9KVxuXSxbM10pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBhc3NldHMvanMvbWFpbi5taW4uanMiLCIvKipcbiAqIENyZWF0ZWQgYnkgc2FuY2hleiBcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuLy8gaW1wb3J0IENTU1xuLy8gaW1wb3J0IGFuaW1hdGVfY3NzIGZyb20gJ2FuaW1hdGUuY3NzL2FuaW1hdGUubWluLmNzcyc7XG5pbXBvcnQgY3NzIGZyb20gJy4uL2Nzcy9jc3MuY3NzJztcbi8vIGltcG9ydCBzY3NzIGZyb20gJy4uL2Nzcy9zYXNzLnNjc3MnO1xuXG5cblxuLy8gaW1wb3J0IEpzIFBsdWdpbnMvRW50aXRpZXNcblxuLy9FUzYgTW9kdWxlXG4vLyBpbXBvcnQgQmFyMSBmcm9tICcuL2VudGl0aWVzL0JhcjEnO1xuLy8gaW1wb3J0IEhvd2xlciBmcm9tICdob3dsZXInO1xuLy9Db21tb25KU1xuLy8gdmFyIEJhcjI9cmVxdWlyZSgnLi9lbnRpdGllcy9CYXIyJyk7XG5cbi8vIGlmICghRGV0ZWN0b3Iud2ViZ2wpIERldGVjdG9yLmFkZEdldFdlYkdMTWVzc2FnZSgpO1xudmFyIGNvbnRhaW5lciwgc3RhdHM7XG52YXIgY2FtZXJhLCBzY2VuZSwgcmVuZGVyZXI7XG52YXIgYiA9IHtcbiAgICBwcm9ncmVzczogeyB2YWx1ZTogMSB9LFxuICAgIGJ1cm5FZmZlY3Q6IHsgdmFsdWU6IDEgfSxcbiAgICBpc0RlcHRoOiB7IHZhbHVlOiAwIH0sXG5cbn07XG5cbmluaXQoKTtcbmFuaW1hdGUoKTtcblxuZnVuY3Rpb24gaW5pdCgpIHtcblxuICAgIGNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSg1MCwgd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQsIDEsIDEwMDAwKTtcbiAgICBjYW1lcmEucG9zaXRpb24ueiA9IDgwO1xuICAgIHNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG4gICAgdmFyIGJ1cm5UZXg7XG5cbiAgICAvLyB1bmlmb3JtIGZsb2F0IHByb2dyZXNzO1xuICAgIC8vIHVuaWZvcm0gZmxvYXQgYnVybkVmZmVjdDtcblxuICAgIC8vIHVuaWZvcm0gZmxvYXQgaXNEZXB0aDtcbiAgICAvLyB1bmlmb3JtIGZsb2F0IGNhbWVyYU5lYXI7XG4gICAgLy8gdW5pZm9ybSBmbG9hdCBjYW1lcmFGYXI7XG5cblxuICAgIHZhciBtYW5hZ2VyID0gbmV3IFRIUkVFLkxvYWRpbmdNYW5hZ2VyKCk7XG4gICAgbWFuYWdlci5vblN0YXJ0ID0gZnVuY3Rpb24odXJsLCBpdGVtc0xvYWRlZCwgaXRlbXNUb3RhbCkge1xuICAgICAgICBjb25zb2xlLmxvZygnU3RhcnRlZCBsb2FkaW5nIGZpbGU6ICcgKyB1cmwgKyAnLlxcbkxvYWRlZCAnICsgaXRlbXNMb2FkZWQgKyAnIG9mICcgKyBpdGVtc1RvdGFsICsgJyBmaWxlcy4nKTtcbiAgICB9O1xuXG4gICAgbWFuYWdlci5vbkxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0xvYWRpbmcgY29tcGxldGUhJyk7XG4gICAgICAgIGxvYWRSZXNDYWxsQmFjaygpO1xuICAgIH07XG5cblxuICAgIG1hbmFnZXIub25Qcm9ncmVzcyA9IGZ1bmN0aW9uKHVybCwgaXRlbXNMb2FkZWQsIGl0ZW1zVG90YWwpIHtcblxuICAgICAgICBjb25zb2xlLmxvZygnTG9hZGluZyBmaWxlOiAnICsgdXJsICsgJy5cXG5Mb2FkZWQgJyArIGl0ZW1zTG9hZGVkICsgJyBvZiAnICsgaXRlbXNUb3RhbCArICcgZmlsZXMuJyk7XG5cbiAgICB9O1xuXG4gICAgbWFuYWdlci5vbkVycm9yID0gZnVuY3Rpb24odXJsKSB7XG5cbiAgICAgICAgY29uc29sZS5sb2coJ1RoZXJlIHdhcyBhbiBlcnJvciBsb2FkaW5nICcgKyB1cmwpO1xuXG4gICAgfTtcbiAgICB2YXIgdGV4dHVyZUxvYWRlciA9IG5ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKG1hbmFnZXIpO1xuICAgIHZhciBtcCA9IHRleHR1cmVMb2FkZXIubG9hZCgnLi9hc3NldHMvaW1nL2NhdC5wbmcnKTtcbiAgICB2YXIgYnVyblRleDEgPSB0ZXh0dXJlTG9hZGVyLmxvYWQoJy4vYXNzZXRzL2ltZy9idXJuaW5ndGV4dHVyZTEucG5nJyk7XG4gICAgdmFyIGJ1cm5UZXgyID0gdGV4dHVyZUxvYWRlci5sb2FkKCcuL2Fzc2V0cy9pbWcvYnVybmluZ3RleHR1cmUyLnBuZycpO1xuICAgIHZhciBnZW8gPSBuZXcgVEhSRUUuUGxhbmVCdWZmZXJHZW9tZXRyeSg0MCwgNDApO1xuXG4gICAgZnVuY3Rpb24gbG9hZFJlc0NhbGxCYWNrKCkge1xuICAgICAgICBjb25zb2xlLmxvZygnaW5pdCcpO1xuICAgICAgICB2YXIgc2hhZGVyTWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgICAgICAgdW5pZm9ybXM6IHtcbiAgICAgICAgICAgICAgICBtYXA6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG1wXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBidXJuVGV4OiB7IHZhbHVlOiBidXJuVGV4MiB9LFxuICAgICAgICAgICAgICAgIGJ1cm5FZmZlY3Q6IGIuYnVybkVmZmVjdCxcbiAgICAgICAgICAgICAgICBwcm9ncmVzczogYi5wcm9ncmVzcyxcbiAgICAgICAgICAgICAgICBpc0RlcHRoOiBiLmlzRGVwdGgsXG4gICAgICAgICAgICAgICAgY2FtZXJhTmVhcjogeyB2YWx1ZTogMTAwIH0sXG4gICAgICAgICAgICAgICAgY2FtZXJhRmFyOiB7IHZhbHVlOiA0MDAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZlcnRleFNoYWRlcjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXJuVmVydGV4U2hhZGVyXCIpLnRleHRDb250ZW50LFxuICAgICAgICAgICAgZnJhZ21lbnRTaGFkZXI6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnVybkZyYWdtZW50U2hhZGVyXCIpLnRleHRDb250ZW50XG4gICAgICAgIH0pO1xuICAgICAgICBzaGFkZXJNYXRlcmlhbC50cmFuc3BhcmVudCA9ICEwO1xuICAgICAgICB2YXIgcGFwZXIgPSBuZXcgVEhSRUUuTWVzaChnZW8sIHNoYWRlck1hdGVyaWFsKTtcbiAgICAgICAgcGFwZXIucG9zaXRpb24uc2V0KDAsIDAsIDApO1xuICAgICAgICBzY2VuZS5hZGQocGFwZXIpO1xuXG4gICAgfVxuXG4gICAgLy9yZW5kZXJlclxuICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFpbmVyJyk7XG4gICAgcmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcigpO1xuICAgIHJlbmRlcmVyLnNldFBpeGVsUmF0aW8od2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICAgIHJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuXG4gICAgLy9ldmVudHNcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmFuZ2UtYnRuJykuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMudmFsdWUpO1xuICAgICAgICBiLnByb2dyZXNzLnZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICB9KVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBvbldpbmRvd1Jlc2l6ZSwgZmFsc2UpO1xufVxuXG5mdW5jdGlvbiBvbldpbmRvd1Jlc2l6ZSgpIHtcbiAgICBjYW1lcmEuYXNwZWN0ID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICByZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xufVxuXG5mdW5jdGlvbiBhbmltYXRlKCkge1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcbiAgICByZW5kZXIoKTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyKCkge1xuXG4gICAgcmVuZGVyZXIucmVuZGVyKHNjZW5lLCBjYW1lcmEpO1xufVxuXG5cblxuXG5cblxuZnVuY3Rpb24gc2hvd1N0YXRzKCkge1xuICAgIHZhciBzdGF0cyA9IG5ldyBTdGF0cygpO1xuICAgIHN0YXRzLnNob3dQYW5lbCgwKTsgLy8gMDogZnBzLCAxOiBtcywgMjogbWIsIDMrOiBjdXN0b21cbiAgICB2YXIgZnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBmcy5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgZnMuc3R5bGUubGVmdCA9IDA7XG4gICAgZnMuc3R5bGUudG9wID0gMDtcbiAgICBmcy5zdHlsZS56SW5kZXggPSA5OTk7XG4gICAgZnMuYXBwZW5kQ2hpbGQoc3RhdHMuZG9tRWxlbWVudCk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmcyk7XG5cbiAgICBmdW5jdGlvbiBhbmltYXRlKCkge1xuICAgICAgICBzdGF0cy5iZWdpbigpO1xuICAgICAgICAvLyBtb25pdG9yZWQgY29kZSBnb2VzIGhlcmVcbiAgICAgICAgc3RhdHMuZW5kKCk7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcbiAgICB9XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xufVxuc2hvd1N0YXRzKCk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYXNzZXRzL2pzL21haW4uanNcbi8vIG1vZHVsZSBpZCA9IDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==